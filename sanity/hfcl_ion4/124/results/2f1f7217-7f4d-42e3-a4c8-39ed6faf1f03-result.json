{"name": "test_firmware_upgrade_request", "status": "broken", "statusDetails": {"message": "NameError: Invalid response code.", "trace": "fixtures_ver = <fixtures_2x.Fixtures_2x object at 0x7fdebe052bb0>\nget_apnos = <class 'apnos.apnos.APNOS'>\nget_configuration = {'access_point': [{'Backup Location': '', 'Backup Password': '', 'Backup Type': 'File System', 'Backup User': '', ...}...hy4'], '2.4G-Station-Name': 'wlan0', '5G-Radio': ['1.1.wiphy5'], '5G-Station-Name': 'wlan1', ...}, 'name': 'lanforge'}}\n\n    @pytest.fixture(scope=\"session\")\n    def firmware_upgrade(fixtures_ver, get_apnos, get_configuration):\n>       upgrade_status = fixtures_ver.setup_firmware(get_apnos, get_configuration)\n\nconftest.py:664: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nfixtures_2x.py:169: in setup_firmware\n    self.fw_client.upgrade_firmware(serial=ap['serial'], url=str(firmware['uri']))\n../libs/controller/controller_2x/controller.py:213: in upgrade_firmware\n    response = self.sdk_client.request(service=\"gw\", command=\"device/\" + serial + \"/upgrade\",\n../libs/controller/controller_2x/controller.py:88: in request\n    self.check_response(method, resp, self.make_headers(), payload, uri)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <controller.controller_2x.controller.Controller object at 0x7fdebe052a00>\ncmd = 'POST', response = <Response [403]>\nheaders = {'Authorization': 'Bearer b026ddba0eb24ea23bab64e656de46e7c8d85317851acf90e04957281bc55c6d', 'Connection': 'keep-alive', 'Keep-Alive': 'timeout=10, max=1000'}\ndata_str = '{ \"serialNumber\" : \"0006aee53b84\" , \"uri\" : \"https://ucentral-ap-firmware.s3.amazonaws.com/20211206-hfcl_ion4-next-a686bee-upgrade.bin\", \"when\" : 0 }'\nurl = 'https://gw-0a3a9bc9.cicd.lab.wlan.tip.build:16002/api/v1/device/0006aee53b84/upgrade'\n\n    def check_response(self, cmd, response, headers, data_str, url):\n        if response.status_code >= 400:\n            if response.status_code >= 400:\n                print(\"check-response: ERROR, url: \", url)\n            else:\n                print(\"check-response: url: \", url)\n            print(\"Command: \", cmd)\n            print(\"response-status: \", response.status_code)\n            print(\"response-headers: \", response.headers)\n            print(\"response-content: \", response.content)\n            print(\"headers: \", headers)\n            print(\"data-str: \", data_str)\n    \n        if response.status_code >= 400:\n            # if True:\n>           raise NameError(\"Invalid response code.\")\nE           NameError: Invalid response code.\n\n../libs/controller/controller_2x/controller.py:154: NameError"}, "start": 1638875834610, "stop": 1638875834610, "uuid": "3ea5f945-a98b-4b4a-aa5f-41c1c017b6a9", "historyId": "12d337a2c9ca27419cbc831bf70f6bf7", "testCaseId": "bd201c2fad458a17efabc8831aa627f0", "fullName": "test_connectivity.TestFMS#test_firmware_upgrade_request", "labels": [{"name": "tag", "value": "uc_firmware"}, {"name": "tag", "value": "test_resources"}, {"name": "tag", "value": "uc_sanity"}, {"name": "tag", "value": "firmware_upgrade"}, {"name": "tag", "value": "sanity_55"}, {"name": "tag", "value": "sanity"}, {"name": "suite", "value": "test_connectivity"}, {"name": "subSuite", "value": "TestFMS"}, {"name": "host", "value": "testing-124-8j7xz"}, {"name": "thread", "value": "16-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_connectivity"}], "links": [{"type": "test_case", "name": "Firmware Management"}]}