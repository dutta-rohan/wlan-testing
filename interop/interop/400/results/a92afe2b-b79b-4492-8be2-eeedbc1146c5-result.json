{"name": "test_ClientConnect_2g_WPA_enterprise_Vlan[setup_profiles0]", "status": "broken", "statusDetails": {"message": "ConnectionResetError: [Errno 104] Connection reset by peer", "trace": "request = <SubRequest 'setup_profiles' for <Function test_ClientConnect_5g_WPA2_enterprise_Vlan[setup_profiles0]>>\nsetup_controller = <controller.controller_2x.controller.Controller object at 0x7f11a2479b20>\ntestbed = 'interop-03', get_equipment_ref = ['903cb36ae4a3']\nfixtures_ver = <fixtures_2x.Fixtures_2x object at 0x7f11a2479a90>\nskip_lf = True\ninstantiate_profile = <class 'controller.controller_2x.controller.UProfileUtility'>\nget_markers = {'fiveg': True, 'open': True, 'radius': False, 'twog': True, ...}\ncreate_lanforge_chamberview_dut = '', lf_tools = False\nget_security_flags = ['open', 'wpa', 'wep', 'wpa2_personal', 'wpa3_personal', 'wpa3_personal_mixed', ...]\nget_configuration = {'access_point': [{'ip': '10.28.3.102', 'jumphost': True, 'jumphost_tty': '/dev/ttyAP4', 'mode': 'wifi6', ...}], 'cont...tation-Name': 'wlan0', '5G-Radio': ['1.1.wiphy1', '1.1.wiphy3'], '5G-Station-Name': 'wlan1', ...}, 'name': 'lanforge'}}\nradius_info = {'ip': '10.10.1.221', 'password': 'password', 'pk_password': 'whatever', 'port': 1812, ...}\nget_apnos = <class 'apnos.apnos.APNOS'>\nradius_accounting_info = {'ip': '10.10.1.221', 'password': 'password', 'pk_password': 'whatever', 'port': 1813, ...}\n\n    @pytest.fixture(scope=\"class\")\n    def setup_profiles(request, setup_controller, testbed, get_equipment_ref, fixtures_ver, skip_lf,\n                       instantiate_profile, get_markers, create_lanforge_chamberview_dut, lf_tools,\n                       get_security_flags, get_configuration, radius_info, get_apnos, radius_accounting_info):\n    \n        param = dict(request.param)\n        if not skip_lf:\n            lf_tools.reset_scenario()\n        # VLAN Setup\n            if request.param[\"mode\"] == \"VLAN\":\n    \n                vlan_list = list()\n                refactored_vlan_list = list()\n                ssid_modes = request.param[\"ssid_modes\"].keys()\n                for mode in ssid_modes:\n                    for ssid in range(len(request.param[\"ssid_modes\"][mode])):\n                        if \"vlan\" in request.param[\"ssid_modes\"][mode][ssid]:\n                            vlan_list.append(request.param[\"ssid_modes\"][mode][ssid][\"vlan\"])\n                        else:\n                            pass\n                if vlan_list:\n                    [refactored_vlan_list.append(x) for x in vlan_list if x not in refactored_vlan_list]\n                    vlan_list = refactored_vlan_list\n                    for i in range(len(vlan_list)):\n                        if vlan_list[i] > 4095 or vlan_list[i] < 1:\n                            vlan_list.pop(i)\n            if request.param[\"mode\"] == \"VLAN\":\n                lf_tools.add_vlan(vlan_ids=vlan_list)\n    \n        # call this, if 1.x\n>       return_var = fixtures_ver.setup_profiles(request, param, setup_controller, testbed, get_equipment_ref,\n                                                 instantiate_profile,\n                                                 get_markers, create_lanforge_chamberview_dut, lf_tools,\n                                                 get_security_flags, get_configuration, radius_info, get_apnos,\n                                                 radius_accounting_info, skip_lf=skip_lf)\n\ne2e/interOp/conftest.py:228: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nfixtures_2x.py:512: in setup_profiles\n    ap_ssh = get_apnos(get_configuration['access_point'][0], pwd=\"../libs/apnos/\", sdk=\"2.x\")\n../libs/apnos/apnos.py:54: in __init__\n    stdin, stdout, stderr = client.exec_command(cmd)\n/usr/local/lib/python3.8/site-packages/paramiko/client.py:514: in exec_command\n    chan.exec_command(command)\n/usr/local/lib/python3.8/site-packages/paramiko/channel.py:72: in _check\n    return func(self, *args, **kwds)\n/usr/local/lib/python3.8/site-packages/paramiko/channel.py:257: in exec_command\n    self._wait_for_event()\n/usr/local/lib/python3.8/site-packages/paramiko/channel.py:1226: in _wait_for_event\n    raise e\n/usr/local/lib/python3.8/site-packages/paramiko/transport.py:2055: in run\n    ptype, m = self.packetizer.read_message()\n/usr/local/lib/python3.8/site-packages/paramiko/packet.py:459: in read_message\n    header = self.read_all(self.__block_size_in, check_rekey=True)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <paramiko.packet.Packetizer object at 0x7f11a1ed66d0>, n = 16\ncheck_rekey = True\n\n    def read_all(self, n, check_rekey=False):\n        \"\"\"\n        Read as close to N bytes as possible, blocking as long as necessary.\n    \n        :param int n: number of bytes to read\n        :return: the data read, as a `str`\n    \n        :raises:\n            ``EOFError`` -- if the socket was closed before all the bytes could\n            be read\n        \"\"\"\n        out = bytes()\n        # handle over-reading from reading the banner line\n        if len(self.__remainder) > 0:\n            out = self.__remainder[:n]\n            self.__remainder = self.__remainder[n:]\n            n -= len(out)\n        while n > 0:\n            got_timeout = False\n            if self.handshake_timed_out():\n                raise EOFError()\n            try:\n>               x = self.__socket.recv(n)\nE               ConnectionResetError: [Errno 104] Connection reset by peer\n\n/usr/local/lib/python3.8/site-packages/paramiko/packet.py:301: ConnectionResetError"}, "parameters": [{"name": "setup_profiles", "value": "{'mode': 'VLAN', 'ssid_modes': {'wpa_enterprise': [{'ssid_name': 'ssid_wpa_eap_2g_vlan', 'appliedRadios': ['2G'], 'vlan': 100, 'security': 'wpa'}, {'ssid_name': 'ssid_wpa_eap_5g_vlan', 'appliedRadios': ['5G'], 'vlan': 100, 'security': 'wpa'}], 'wpa2_enterprise': [{'ssid_name': 'ssid_wpa2_eap_2g_vlan', 'appliedRadios': ['2G'], 'vlan': 100, 'security': 'wpa2'}, {'ssid_name': 'ssid_wpa2_eap_5g_vlan', 'appliedRadios': ['5G'], 'vlan': 100, 'security': 'wpa2'}], 'wpa3_enterprise': [{'ssid_name': 'ssid_wpa3_eap_2g_vlan', 'appliedRadios': ['2G'], 'vlan': 100, 'security': 'wpa3'}, {'ssid_name': 'ssid_wpa3_eap_5g_vlan', 'appliedRadios': ['5G'], 'vlan': 100, 'security': 'wpa3'}]}, 'rf': {}, 'radius': True}"}], "start": 1637700357375, "stop": 1637700357375, "uuid": "b33602d1-da33-4f6f-a317-11da41fbe85a", "historyId": "958ffbc6e086102320438002190eddb1", "testCaseId": "9ecb3354cf84ba27f5a3ae0bad7f47f8", "fullName": "e2e.interOp.validation_of_operating_modes.vlan_mode.client_connect_test.android.test_enterprise_ttls.TestVlanModeEnterpriseTTLSSuiteA#test_ClientConnect_2g_WPA_enterprise_Vlan", "labels": [{"name": "suite", "value": "interop sanity"}, {"name": "subSuite", "value": "Vlan Mode EAP Client Connect : Suite-A"}, {"name": "tag", "value": "android"}, {"name": "tag", "value": "interop_uc_sanity"}, {"name": "tag", "value": "vlan"}, {"name": "tag", "value": "interop_and"}, {"name": "tag", "value": "enterprise"}, {"name": "tag", "value": "wpa_enterprise"}, {"name": "tag", "value": "client_connect"}, {"name": "tag", "value": "sanity"}, {"name": "tag", "value": "twog"}, {"name": "tag", "value": "interop"}, {"name": "tag", "value": "suiteA"}, {"name": "tag", "value": "@pytest.mark.usefixtures('setup_profiles')"}, {"name": "parentSuite", "value": "e2e.interOp.validation_of_operating_modes.vlan_mode.client_connect_test.android"}, {"name": "host", "value": "interop-ci-400-android-vxwhs"}, {"name": "thread", "value": "7-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "e2e.interOp.validation_of_operating_modes.vlan_mode.client_connect_test.android.test_enterprise_ttls"}], "links": [{"type": "test_case", "url": "https://telecominfraproject.atlassian.net/browse/WIFI-4849", "name": "WIFI-4849"}]}